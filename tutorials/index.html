<!DOCTYPE>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Kandy Tutorials</title>
    <link rel="stylesheet" href="https://unpkg.com/docute@4/dist/docute.css">
  </head>
  <body>
    <div id="docute"></div>
    <script src="https://unpkg.com/docute@4/dist/docute.js"></script>
    <script src="//cdn.jsdelivr.net/remarkable/1.7.1/remarkable.min.js"></script>
    <script>
      const sidebar = [{
        title: "Tutorials",
        links: [
        
          {
            title: 'Getting Started',
            link: 'Getting Started'
          },
        
          {
            title: 'Configurations',
            link: 'Configurations'
          },
        
          {
            title: 'User Connect',
            link: 'User Connect'
          },
        
          {
            title: 'Messaging',
            link: 'Messaging'
          },
        
          {
            title: 'Voice and Video Calls',
            link: 'Voice and Video Calls'
          },
        
          {
            title: 'Rich Messaging',
            link: 'Rich Messaging'
          },
        
          {
            title: 'SMS Messaging',
            link: 'SMS Messaging'
          },
        
          {
            title: 'Anonymous Calls',
            link: 'Anonymous Calls'
          },
        
        ]
      }]

      const queryParams = new URLSearchParams(window.location.search);

      new Docute({
        target: '#docute',
        sidebar,
        plugins: [
          {
            name: 'Hide Front Matter',
            extend(api) {
              api.processMarkdown(md => md.replace(/---([^]*?)---/gm, ''))
            }
          },
          {
            name: 'Convert KANDYFQDN',
            extend(api) {
              const kandyFQDN = queryParams.get('KANDYFQDN') || '$KANDYFQDN$'
              api.processMarkdown(md => md.replace(/\$KANDYFQDN\$/gm, kandyFQDN))
            }
          },
          {
            name: 'Convert KANDY',
            extend(api) {
              const kandy = queryParams.get('KANDY') || '$KANDY$'
              api.processMarkdown(md => md.replace(/\$KANDY\$/gm, kandy))
            }
          },
          {
            name: 'Unescape HTML',
            extend(api) {
              // This hook will wrap the html generated by the markdown
              // in a div that uses vue's "v-html" directive so that the
              // html is not escaped by Vue.
              api.extendMarkdownComponent(component =>{
                const rawHtml = String(component.template)

                component.data = () => ({rawHtml})
                component.template = '<div v-html="rawHtml"></div>'
              })
            }
          }
        ]
      })
    </script>
  </body>
</html>
